alter table AccountActivity drop constraint FK906A1C3CF959FEDE;
alter table Activity drop constraint FKA126572F35FE1083;
alter table Authority_User drop constraint FKAE76EF877E9A3831;
alter table Authority_User drop constraint FKAE76EF875AE9BD4C;
alter table Book drop constraint FK1FAF0922A946F7;
alter table BookActivity drop constraint FK108EED38C565759A;
alter table BookActivity drop constraint FK108EED3835ECAEBF;
alter table BookAuthor drop constraint FKE10A91F435ECAEBF;
alter table BookAuthor drop constraint FKE10A91F435FE1083;
alter table Chapter drop constraint FK8F45142D35ECAEBF;
alter table ChapterActivity drop constraint FK841EEE5C8418C0FE;
alter table ChapterActivity drop constraint FK841EEE5CBDE90DB1;
alter table Comment drop constraint FK9BDE863F177EE9D1;
alter table Comment drop constraint FK9BDE863F2821D64;
alter table Comment drop constraint FK9BDE863F90EDA80F;
alter table CommentActivity drop constraint FKCDF62E6E914DA810;
alter table CommentActivity drop constraint FKCDF62E6EFF23FC71;
alter table Publication drop constraint FK23254A0C92697C8D;
alter table UserAuthority drop constraint FKFCA37F9890EDA80F;
alter table UserAuthority drop constraint FKFCA37F9817043793;
drop table AccountActivity if exists;
drop table Activity if exists;
drop table Authority if exists;
drop table Authority_User if exists;
drop table Book if exists;
drop table BookActivity if exists;
drop table BookAuthor if exists;
drop table Chapter if exists;
drop table ChapterActivity if exists;
drop table Comment if exists;
drop table CommentActivity if exists;
drop table CommentLabel if exists;
drop table Publication if exists;
drop table User if exists;
drop table UserAuthority if exists;
create table AccountActivity (type integer, ACCOUNT_ACTIVITY_ID bigint not null, primary key (ACCOUNT_ACTIVITY_ID));
create table Activity (id bigint generated by default as identity (start with 1), creationDate timestamp not null, deletionDate timestamp, lastModified timestamp, resourceUnavailable bit, id_user bigint not null, primary key (id));
create table Authority (id bigint generated by default as identity (start with 1), authority varchar(255), primary key (id));
create table Authority_User (Authority_id bigint not null, users_id_user bigint not null);
create table Book (id_book bigint generated by default as identity (start with 1), creationDate timestamp not null, deletionDate timestamp, lastModified timestamp, slugTitle varchar(255), title varchar(255), owner_id_user bigint, primary key (id_book), unique (id_book), unique (slugTitle));
create table BookActivity (type integer, BOOK_ACTIVITY_ID bigint not null, id_book bigint not null, primary key (BOOK_ACTIVITY_ID));
create table BookAuthor (id_book bigint not null, id_user bigint not null);
create table Chapter (id bigint generated by default as identity (start with 1), creationDate timestamp not null, deletionDate timestamp, lastModified timestamp, slugTitle varchar(255), title varchar(255), id_book bigint not null, CHAPTER_POSITION integer, primary key (id));
create table ChapterActivity (type integer, CHAPTER_ACTIVITY_ID bigint not null, chapter_id bigint not null, primary key (CHAPTER_ACTIVITY_ID));
create table Comment (id bigint generated by default as identity (start with 1), creationDate timestamp not null, deletionDate timestamp, lastModified timestamp, content varchar(255), domId varchar(255) not null, state varchar(255) not null, title varchar(255), label_id bigint, publication_id bigint not null, user_id_user bigint, primary key (id));
create table CommentActivity (type integer, COMMENT_ACTIVITY_ID bigint not null, comment_id bigint not null, primary key (COMMENT_ACTIVITY_ID));
create table CommentLabel (id bigint generated by default as identity (start with 1), creationDate timestamp not null, deletionDate timestamp, lastModified timestamp, label varchar(255), primary key (id));
create table Publication (id bigint generated by default as identity (start with 1), creationDate timestamp not null, deletionDate timestamp, lastModified timestamp, content longvarchar, published bit not null, id_chapter bigint not null, primary key (id));
create table User (id_user bigint generated by default as identity (start with 1), creationDate timestamp not null, deletionDate timestamp, lastModified timestamp, email varchar(255) not null, fullname varchar(255) not null, password varchar(255), username varchar(255) not null, primary key (id_user), unique (username));
create table UserAuthority (User_id_user bigint not null, authorities_id bigint not null);
alter table AccountActivity add constraint FK906A1C3CF959FEDE foreign key (ACCOUNT_ACTIVITY_ID) references Activity;
alter table Activity add constraint FKA126572F35FE1083 foreign key (id_user) references User;
alter table Authority_User add constraint FKAE76EF877E9A3831 foreign key (Authority_id) references Authority;
alter table Authority_User add constraint FKAE76EF875AE9BD4C foreign key (users_id_user) references User;
alter table Book add constraint FK1FAF0922A946F7 foreign key (owner_id_user) references User;
alter table BookActivity add constraint FK108EED38C565759A foreign key (BOOK_ACTIVITY_ID) references Activity;
alter table BookActivity add constraint FK108EED3835ECAEBF foreign key (id_book) references Book;
alter table BookAuthor add constraint FKE10A91F435ECAEBF foreign key (id_book) references Book;
alter table BookAuthor add constraint FKE10A91F435FE1083 foreign key (id_user) references User;
alter table Chapter add constraint FK8F45142D35ECAEBF foreign key (id_book) references Book;
alter table ChapterActivity add constraint FK841EEE5C8418C0FE foreign key (CHAPTER_ACTIVITY_ID) references Activity;
alter table ChapterActivity add constraint FK841EEE5CBDE90DB1 foreign key (chapter_id) references Chapter;
alter table Comment add constraint FK9BDE863F177EE9D1 foreign key (publication_id) references Publication;
alter table Comment add constraint FK9BDE863F2821D64 foreign key (label_id) references CommentLabel;
alter table Comment add constraint FK9BDE863F90EDA80F foreign key (user_id_user) references User;
alter table CommentActivity add constraint FKCDF62E6E914DA810 foreign key (COMMENT_ACTIVITY_ID) references Activity;
alter table CommentActivity add constraint FKCDF62E6EFF23FC71 foreign key (comment_id) references Comment;
alter table Publication add constraint FK23254A0C92697C8D foreign key (id_chapter) references Chapter;
alter table UserAuthority add constraint FKFCA37F9890EDA80F foreign key (User_id_user) references User;
alter table UserAuthority add constraint FKFCA37F9817043793 foreign key (authorities_id) references Authority;

